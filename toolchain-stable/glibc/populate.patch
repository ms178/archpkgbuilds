--- glibc-2.35/malloc/malloc.c~	2022-02-03 05:27:54.000000000 +0000
+++ glibc-2.35/malloc/malloc.c	2022-03-09 15:04:18.825885223 +0000
@@ -2586,12 +2586,12 @@
 	{
 	  /* There is no need to isse the THP madvise call if Huge Pages are
 	     used directly.  */
-	  mm = sysmalloc_mmap (nb, mp_.hp_pagesize, mp_.hp_flags, av);
+	  mm = sysmalloc_mmap (nb, mp_.hp_pagesize, mp_.hp_flags | MAP_POPULATE, av);
 	  if (mm != MAP_FAILED)
 	    return mm;
 	}
 #endif
-      mm = sysmalloc_mmap (nb, pagesize, 0, av);
+      mm = sysmalloc_mmap (nb, pagesize, MAP_POPULATE, av);
       if (mm != MAP_FAILED)
 	return mm;
       tried_mmap = true;
