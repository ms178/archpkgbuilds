From 2643bed43acbf3547cf53bb38937762e7ad7ebac Mon Sep 17 00:00:00 2001
From: Adam Jackson <ajax@redhat.com>
Date: Mon, 17 Oct 2022 17:13:08 -0400
Subject: [PATCH 1/2] mesa: Fix extension table formatting
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Reviewed-by: Marek Ol코치k <marek.olsak@amd.com>
---
 src/mesa/main/extensions_table.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/mesa/main/extensions_table.h b/src/mesa/main/extensions_table.h
index 307b5d3bc1db..575544073720 100644
--- a/src/mesa/main/extensions_table.h
+++ b/src/mesa/main/extensions_table.h
@@ -404,7 +404,7 @@ EXT(NV_fbo_color_attachments                , dummy_true
 EXT(NV_fill_rectangle                       , NV_fill_rectangle                      , GLL, GLC,  x ,  x , 2015)
 EXT(NV_fog_distance                         , NV_fog_distance                        , GLL,  x ,  x ,  x , 2001)
 EXT(NV_fragment_shader_interlock            , ARB_fragment_shader_interlock          , GLL, GLC,  x ,  31, 2015)
-EXT(NV_half_float                           , ARB_half_float_vertex                  , GLL, x,  x ,  x, 2001)
+EXT(NV_half_float                           , ARB_half_float_vertex                  , GLL,  x ,  x ,  x , 2001)
 EXT(NV_image_formats                        , dummy_true                             ,  x ,  x ,  x ,  31, 2014)
 EXT(NV_light_max_exponent                   , dummy_true                             , GLL,  x ,  x ,  x , 1999)
 EXT(NV_pack_subimage                        , dummy_true                             ,  x ,  x ,  x , ES2, 2009)
-- 
GitLab


From a0a0b087b333a17fb02f87dfa34f929d9ba0dff7 Mon Sep 17 00:00:00 2001
From: Adam Jackson <ajax@redhat.com>
Date: Mon, 17 Oct 2022 17:35:25 -0400
Subject: [PATCH 2/2] mesa: Enable NV_texture_barrier in GLES2+
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The spec text is written against 3.2 but only requires framebuffer
objects and ES2.

Reviewed-by: Marek Ol코치k <marek.olsak@amd.com>
---
 src/mapi/glapi/gen/NV_texture_barrier.xml | 2 +-
 src/mesa/main/extensions_table.h          | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/mapi/glapi/gen/NV_texture_barrier.xml b/src/mapi/glapi/gen/NV_texture_barrier.xml
index b4d3d88d64fd..d412d213f39d 100644
--- a/src/mapi/glapi/gen/NV_texture_barrier.xml
+++ b/src/mapi/glapi/gen/NV_texture_barrier.xml
@@ -6,7 +6,7 @@
 
 <OpenGLAPI>
 
-<category name="GL_NV_texture_barrier" number="381">
+<category name="GL_NV_texture_barrier" number="381" es2="2.0">
     <function name="TextureBarrierNV" exec="dlist" />
 </category>
 
diff --git a/src/mesa/main/extensions_table.h b/src/mesa/main/extensions_table.h
index 575544073720..093576521c80 100644
--- a/src/mesa/main/extensions_table.h
+++ b/src/mesa/main/extensions_table.h
@@ -420,7 +420,7 @@ EXT(NV_shader_atomic_float                  , NV_shader_atomic_float
 EXT(NV_shader_atomic_int64                  , NV_shader_atomic_int64                 , GLL, GLC,  x ,  x , 2014)
 EXT(NV_shader_noperspective_interpolation   , EXT_gpu_shader4                        ,  x ,  x ,  x ,  30, 2014)
 EXT(NV_texgen_reflection                    , dummy_true                             , GLL,  x ,  x ,  x , 1999)
-EXT(NV_texture_barrier                      , NV_texture_barrier                     , GLL, GLC,  x ,  x , 2009)
+EXT(NV_texture_barrier                      , NV_texture_barrier                     , GLL, GLC,  x , ES2, 2009)
 EXT(NV_texture_env_combine4                 , NV_texture_env_combine4                , GLL,  x ,  x ,  x , 1999)
 EXT(NV_texture_rectangle                    , NV_texture_rectangle                   , GLL,  x ,  x ,  x , 2000)
 EXT(NV_vdpau_interop                        , NV_vdpau_interop                       , GLL, GLC,  x ,  x , 2010)
-- 
GitLab

