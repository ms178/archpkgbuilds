From 60a7b419588281af318fed8ce7ec4751c1b4a911 Mon Sep 17 00:00:00 2001
From: Adam Jackson <ajax@redhat.com>
Date: Mon, 17 Oct 2022 17:13:22 -0400
Subject: [PATCH 2/2] mesa: Trivially advertise NV_generate_mipmap_sRGB
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

... if you have EXT_framebuffer_sRGB. The extension just relaxes an
error check that we're already not performing, and sRGB rendering
implies sRGB texture support, and mipmap generation would need it to be
a valid render format. So advertise it if EXT_framebuffer_sRGB works.

Reviewed-by: Marek Olšák <marek.olsak@amd.com>
---
 src/mesa/main/extensions_table.h | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/mesa/main/extensions_table.h b/src/mesa/main/extensions_table.h
index 575544073720..ff1deefba724 100644
--- a/src/mesa/main/extensions_table.h
+++ b/src/mesa/main/extensions_table.h
@@ -404,6 +404,7 @@ EXT(NV_fbo_color_attachments                , dummy_true
 EXT(NV_fill_rectangle                       , NV_fill_rectangle                      , GLL, GLC,  x ,  x , 2015)
 EXT(NV_fog_distance                         , NV_fog_distance                        , GLL,  x ,  x ,  x , 2001)
 EXT(NV_fragment_shader_interlock            , ARB_fragment_shader_interlock          , GLL, GLC,  x ,  31, 2015)
+EXT(NV_generate_mipmap_sRGB                 , EXT_framebuffer_sRGB                   ,  x ,  x , ES1, ES2, 2012)
 EXT(NV_half_float                           , ARB_half_float_vertex                  , GLL,  x ,  x ,  x , 2001)
 EXT(NV_image_formats                        , dummy_true                             ,  x ,  x ,  x ,  31, 2014)
 EXT(NV_light_max_exponent                   , dummy_true                             , GLL,  x ,  x ,  x , 1999)
-- 
GitLab

